package models.Utils;

import java.util.regex.Pattern;

public class Validation {
    // Numeric patterns
    public static final Pattern NUMERIC_PATTERN = Pattern.compile("^\\d+$");
    public static final Pattern DECIMAL_PATTERN = Pattern.compile("^\\d+(\\.\\d{1,2})?$");
    public static final Pattern PERCENTAGE_PATTERN = Pattern.compile("^(100|[1-9]?[0-9])(\\.\\d{1,2})?%?$");

    // Text patterns
    public static final Pattern NAME_PATTERN = Pattern.compile("^[a-zA-Z\\s]{2,50}$");
    public static final Pattern EMAIL_PATTERN = Pattern.compile("^[A-Za-z0-9+_.-]+@(.+)$");
    public static final Pattern PHONE_PATTERN = Pattern.compile("^\\+?[1-9]\\d{1,14}$");

    // Date patterns
    public static final Pattern DATE_PATTERN = Pattern.compile("^\\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$");

    // Business patterns
    public static final Pattern CURRENCY_PATTERN = Pattern.compile("^\\$?\\d+(\\.\\d{2})?$");
    public static final Pattern QUANTITY_PATTERN = Pattern.compile("^[1-9]\\d*$");
    public static final Pattern SKU_PATTERN = Pattern.compile("^[A-Z0-9]{6,12}$");

    public static boolean isValidNumeric(String input) {
        return input != null && NUMERIC_PATTERN.matcher(input).matches();
    }

    public static boolean isValidDecimal(String input) {
        return input != null && DECIMAL_PATTERN.matcher(input).matches();
    }

    public static boolean isValidPercentage(String input) {
        return input != null && PERCENTAGE_PATTERN.matcher(input).matches();
    }

    public static boolean isValidName(String input) {
        return input != null && NAME_PATTERN.matcher(input).matches();
    }

    public static boolean isValidEmail(String input) {
        return input != null && EMAIL_PATTERN.matcher(input).matches();
    }

    public static boolean isValidPhone(String input) {
        return input != null && PHONE_PATTERN.matcher(input).matches();
    }

    public static boolean isValidDate(String input) {
        return input != null && DATE_PATTERN.matcher(input).matches();
    }

    public static boolean isValidCurrency(String input) {
        return input != null && CURRENCY_PATTERN.matcher(input).matches();
    }

    public static boolean isValidQuantity(String input) {
        return input != null && QUANTITY_PATTERN.matcher(input).matches();
    }

    public static boolean isValidSKU(String input) {
        return input != null && SKU_PATTERN.matcher(input).matches();
    }

    public static String sanitizeInput(String input) {
        if (input == null) return "";
        return input.trim().replaceAll("[<>\"']", "");
    }
}